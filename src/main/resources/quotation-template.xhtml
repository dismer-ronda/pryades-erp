<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
   
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
		<title>Oferta $quotation.getId()</title>
		
		<meta name="author" content="pryades" />
		
		<style type="text/css">
		
			* {
				font-family: "Arial", Helvetica; 
				font-size: 12px;
			}

			*.titulo1 {
				font-size: 48px;
				text-align: center;
				font-weight: bold;
			}
			
			*.titulo2 {
				font-size: 14px;
				text-align: center;
				font-weight: bold;
			}

			*.text_header_size {
				font-size: 16px;
			}

			*.text_regular_size {
				font-size: 14px;
			}

			*.text_left {
				text-align: left;
			}

			*.text_center {
				text-align: center;
			}

			*.text_right {
				text-align: right;
			}
			
			*.text_bold {
				font-weight: bold;
			}

			*.vtop {
				vertical-align: top;
			}

			*.hcenter {
				horizontal-align: center;
			}
			
			*.vcenter {
				vertical-align: center;
			}

			*.vbottom {
				vertical-align: bottom;
			}

			*.sangria {
				padding-left: 16px;
				padding-right: 16px;
			}

			*.padding_left {
				padding-left: 6px;
			}
			
			*.padding_right {
				padding-right: 6px;
			}

			*.padding_bottom {
				padding-bottom: 5px;
			}

			*.padding_top {
				padding-top: 5px;
			}
				
			*.borde {
				border: 1px solid black;
			}

			@page {
				size: $pagesize $orientation;
				 
				@top-left {
				}

				@top-right {
				}
				
				@bottom-left {
				}
				
				@bottom-right {
				}

				@bottom-center {
					content: "Página " counter(page) " de " counter(pages);
					font-size: 14px;
					vertical-align: top;
					padding-bottom: 3px;
				}
				 
				margin-top: 1cm;
				margin-bottom: 1cm;
				margin-left: 1cm;
				margin-right: 1cm;
			}
		</style>
</head>

<body>
	
	<table width="100%">
		<tr>
			<td class="text_left">
				<img src="http://localhost:8080/pryades-erp/VAADIN/themes/indigo/images/logo.png" width="256px"> </img> 
			</td>
			<td>
				<div class="text_right titulo1">OFERTA</div>
			</td>
		</tr>
		<tr>
			<td>
			</td>
			<td class="text_right">
				<div class="text_regular_size padding_bottom">Referencia solicitud: $quotation.getReference_request()</div>
			</td>
		</tr>
	</table>

	<table width="100%">
		<tr>
			<td width="50%" class="text_left vtop">
				
				<div class="text_regular_size text_bold padding_bottom">De:</div>
				<div class="text_regular_size sangria">
					Pryades Soluciones Informáticas SL<br/>
					Guadarrama 28440, Madrid<br/>
					CIF: B84976356<br/>
					direccion@pryades.com<br/>
					Tel.: +34 910 053 559<br/>
				</div>
			</td>
			
			<td width="50%" class="text_left vtop">

				<div class="text_regular_size text_bold padding_bottom">Para:</div>
				<div class="text_regular_size sangria">
					$quotation.getCustomer_name()<br/>
					$quotation.getCustomerAddressAsHtml()<br/>
				</div>
			</td>
		</tr>
	</table>

	<table width="100%" >
		<tr>
			<td class="vtop">
				<div class="text_regular_size padding_bottom"><b>Fecha: </b>$quotation.getFormattedDate()</div>
			</td>
			
			<td class="vtop">
				<div class="text_right text_regular_size padding_bottom"><b>Número: </b>$quotation.getId()</div>
			</td>
		</tr>
	</table>

	<table class="text_regular_size text_center" width="100%">
		<tr>
			<td class="borde">
				<div class="text_regular_size">Item</div>
			</td>
			<td class="borde">
				<div class="text_regular_size">Referencia</div>
			</td>
			<td class="borde">
				<div class="text_regular_size">Producto</div>
			</td>
			<td class="borde">
				<div class="text_regular_size">Precio/u</div>
			</td>
			<td class="borde">
				<div class="text_regular_size">Impuestos</div>
			</td>
			#foreach( $delivery in $quotation.getDeliveries() )
				<td class="borde">
					<div class="text_regular_size">Cantidad</div>
					#if( $quotation.getDeliveries().size() > 1 )
					<div class="text_regular_size">$delivery.getDepartureDateFormatted()</div>
					#end
				</td>
			#end
			<td class="borde">
				<div class="text_regular_size">Total</div>
			</td>
		</tr>

		#foreach( $line in $quotation.getLines() )
			<tr>
				<td class="borde text_center vcenter">
					$line.getLine_order()
				</td>
				<td class="borde text_center vcenter">
					$line.getReference()
				</td>
				<td class="borde text_left vcenter">
					<div class="text_regular_size text_bold padding_left padding_bottom">$line.getTitle()</div>
					<div class="text_regular_size sangria padding_bottom">$line.getDescriptionAsHtml()</div>
				</td>
				<td class="borde vcenter">
					<div class="text_regular_size text_right padding_right">$line.getPriceAsString() €</div>					
				</td>
				<td class="borde vcenter">
					<div class="text_regular_size text_right padding_right">$line.getTaxesAsString() €</div>					
				</td>
				#foreach( $delivery in $quotation.getDeliveries() )
					<td class="borde vcenter">
						<div class="text_regular_size text_center">$line.getQuantity( $delivery )</div>
					</td>
				#end
				<td class="borde vcenter">
					<div class="text_regular_size text_right padding_right">$line.getTotalPriceAsString() €</div>					
				</td>
			</tr>
		#end
		
		<br/>
		
		#if( $quotation.getDeliveries().size() > 1 )
			<tr>
				<td class="">
					<div class="text_regular_size"></div>
				</td>
				<td class="">
					<div class="text_regular_size"></div>
				</td>
				<td class="">
					<div class="text_regular_size"></div>
				</td>
				<td class="">
					<div class="text_regular_size"></div>
				</td>
				<td class="">
					<div class="text_regular_size text_bold text_right">Transporte:</div>
				</td>
				#foreach( $delivery in $quotation.getDeliveries() )
					<td class="">
						<div class="text_regular_size">$delivery.getTotalCostAsCurrency() €</div>
					</td>
				#end
				<td class="">
					<div class="text_regular_size"></div>
				</td>
			</tr>
		#end
		
	</table>
	
	<br/>

	<table class="text_regular_size text_left" width="100%">
		<tr>
			<td>
				<div class="text_regular_size text_right text_bold ">Embalaje:</div>
			</td>
			<td>
				<div class="text_regular_size sangria">
					$quotation.getPackaging()<br/>
				</div>
			</td>
			<td>
				#if( $quotation.getCustomer_taxable().booleanValue() )
					<div class="text_regular_size text_right text_bold ">Base imponible:</div>
				#else
					<div class="text_regular_size text_right text_bold ">Total Ex-Work:</div>
				#end
			</td>
			<td>
				<div class="text_regular_size text_right padding_right">$quotation.getTotalPriceAsString() €</div>					
			</td>
		</tr>
		<tr>
			<td>
				<div class="text_regular_size text_right text_bold ">Plazo de entrega:</div>
			</td>
			<td>
				<div class="text_regular_size sangria">
					$quotation.getDelivery()<br/>
				</div>
			</td>
			<td>
				<div class="text_regular_size text_right text_bold">Total transporte:</div>
			</td>
			<td>
				<div class="text_regular_size text_right padding_right">$quotation.getTotalTransportCostAsString() €</div>					
			</td>
		</tr>
		<tr>
			<td>
				<div class="text_regular_size text_right text_bold">Validez oferta:</div>
			</td>
			<td>
				<div class="text_regular_size sangria">
					$quotation.getValidity() días<br/>
				</div>
			</td>
			#if( $quotation.getTotalDiscount() > 0 )
				<td>
					<div class="text_header_size text_right text_bold">Descuento comercial:</div>
				</td>
				<td>
					<div class="text_regular_size text_right padding_right">-$quotation.getTotalDiscountAsString() €</div>					
				</td>
			#end
		</tr>
		
		<tr>
			<td>
				<div class="text_regular_size text_right text_bold">Garantía:</div>
			</td>
			<td>
				<div class="text_regular_size sangria">
					$quotation.getWarranty()<br/>
				</div>
			</td>
			<td>
				<div class="text_regular_size text_right text_bold">Total $quotation.getDeliveries().get(0).getExternal_terms():</div>
			</td>
			<td>
				<div class="text_regular_size text_right padding_right">$quotation.getGrandTotalQuotationAsString() €</div>					
			</td>
		</tr>

		#if( $quotation.getCustomer_taxable().booleanValue() )
		<tr>
			<td>
			</td>
			<td>
			</td>
			<td>
				<div class="text_regular_size text_right text_bold">Impuestos:</div>
			</td>
			<td>
				<div class="text_regular_size text_right padding_right">$quotation.getTotalTaxesAsString() €</div>					
			</td>
		</tr>
		<tr>
			<td>
			</td>
			<td>
			</td>
			<td>
				<div class="text_regular_size text_right text_bold">Total:</div>
			</td>
			<td>
				<div class="text_regular_size text_right padding_right">$quotation.getGrandTotalQuotationAfterTaxesAsString() €</div>					
			</td>
		</tr>
		#end
	</table>
	
	<table class="text_regular_size text_left" width="100%">
		<tr>
			<td>
				<div class="text_regular_size text_bold ">Términos de pago:</div>
			</td>
		</tr>
		<tr>
			<td>
				<div class="sangria text_regular_size padding_bottom">$quotation.getPayment_terms()</div>
			</td>
		</tr>
	</table>
	

</body>

</html>
